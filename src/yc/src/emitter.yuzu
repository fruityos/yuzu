; emitter.yuzu

sub yc_emit_rvalue(rvalue, fd, symbols, n, label, fcn)
	if ast_get_subtype(rvalue) == RVALUE_BINOP() then
		return 0
	end
	if ast_get_subtype(rvalue) == RVALUE_FUNCTION_CALL() then
		return 0
	end
	if ast_get_subtype(rvalue) == RVALUE_ASSIGN_WORD() then
		return 0
	end
	if ast_get_subtype(rvalue) == RVALUE_ASSIGN_BYTE() then
		return 0
	end
	if ast_get_subtype(rvalue) == RVALUE_LVALUE_WORD() then
		return 0
	end
	if ast_get_subtype(rvalue) == RVALUE_LVALUE_BYTE() then
		return 0
	end
	if ast_get_subtype(rvalue) == RVALUE_UNARY() then
		return 0
	end
	if ast_get_subtype(rvalue) == RVALUE_PARENS() then
		return 0
	end
	if ast_get_subtype(rvalue) == RVALUE_CONSTANT() then
		return 0
	end

end

sub yc_emit_lvalue(lvalue, fd, symbols, n, label, fcn)
	if ast_get_subtype(lvalue) == LVALUE_ID() then
		return 0
	end
	if ast_get_subtype(lvalue) == LVALUE_INDIRECTION() then
		return 0
	end
	
end

sub yc_emit_statement(statement, fd, symbols, n, label, fcn)
	if ast_get_subtype(statement) == STATEMENT_LOCAL() then
		return 0
	end
	if ast_get_subtype(statement) == STATEMENT_IF() then
		return 0
	end
	if ast_get_subtype(statement) == STATEMENT_WHILE() then
		return 0
	end
	if ast_get_subtype(statement) == STATEMENT_RETURN() then
		return 0
	end
	if ast_get_subtype(statement) == STATEMENT_RVALUE() then
		return 0
	end

end

sub yc_emit_definition(definition, fd, label)
end

sub yc_emit_program(program, fd)
	
	local definition, label

	yc_fputs(fd, "; this code was generated by a tool.")
	fputch(fd, 10)
	yc_fputs(fd, "bits 64")
	fputch(fd, 10)
	fputch(fd, 10)

	if program then
		definition = ast_get_kid(program)
	end
	while definition do
		yc_emit_definition(definition, fd, label)
		definition = ast_get_sibling(definition)
	end

end
